<!-- fragments/rating.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="rating(rating)" class="rating">
        <!-- 5-star rating system with fixed number of stars -->
        <th:block th:with="ratingValue=${rating != null ? rating : 0}">
            <!-- First star -->
            <i th:class="${ratingValue >= 1 ? 'fas fa-star text-warning' : 
                         (ratingValue >= 0.5 ? 'fas fa-star-half-alt text-warning' : 'far fa-star')}"></i>

            <!-- Second star -->
            <i th:class="${ratingValue >= 2 ? 'fas fa-star text-warning' : 
                         (ratingValue >= 1.5 ? 'fas fa-star-half-alt text-warning' : 'far fa-star')}"></i>

            <!-- Third star -->
            <i th:class="${ratingValue >= 3 ? 'fas fa-star text-warning' : 
                         (ratingValue >= 2.5 ? 'fas fa-star-half-alt text-warning' : 'far fa-star')}"></i>

            <!-- Fourth star -->
            <i th:class="${ratingValue >= 4 ? 'fas fa-star text-warning' : 
                         (ratingValue >= 3.5 ? 'fas fa-star-half-alt text-warning' : 'far fa-star')}"></i>

            <!-- Fifth star -->
            <i th:class="${ratingValue >= 5 ? 'fas fa-star text-warning' : 
                         (ratingValue >= 4.5 ? 'fas fa-star-half-alt text-warning' : 'far fa-star')}"></i>
        </th:block>
    </div>
</body>

</html>